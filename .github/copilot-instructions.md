# Copilot Instructions for GetGlassInfo

## Project Overview
This project automates querying vehicle information (VIN and Description) for a list of MVAs using Selenium WebDriver. It reads MVA numbers from a CSV file and writes results to a text file. The main script is `GlassDataParser.py`.

## Key Files and Structure
- `GlassDataParser.py`: Main entry point. Handles login, MVA input, data extraction, and result writing.
- `data/mva.csv`: Input file containing MVA numbers (one per line).
- `GlassResults.txt`: Output file generated by the script with columns: MVA, VIN, Desc.

## Core Workflow
1. **Configuration**: Credentials and settings are loaded via `get_config()` (implementation not present in this repo).
2. **Login**: Uses a `LoginFlow` class (not present in this repo) to authenticate.
3. **MVA Processing**: Reads and normalizes MVA numbers from `data/mva.csv`.
4. **Web Automation**: Uses Selenium to input each MVA, waits for vehicle data, and extracts VIN/Desc using robust XPaths.
5. **Result Output**: Writes results to `GlassResults.txt` in CSV format.

## Patterns and Conventions
- **Selenium Usage**: WebDriverWait and custom predicates are used for robust element detection.
- **Error Handling**: Logs errors and continues processing; fatal errors (e.g., missing input field) cause script exit.
- **Normalization**: MVAs are normalized to 8 digits (see `normalize_mva`).
- **Logging**: Uses a `log` object (implementation not present) for info and error reporting.

## Integration Points / Missing Dependencies
- The code expects several modules (`utils`, `flows`, `pages`, `core`, `config`) that are not present in this repository. These must be provided for the script to function.
- The script is not directly runnable without these dependencies.

## Example Usage
```bash
python GlassDataParser.py
```

## Recommendations for AI Agents
- Focus on `GlassDataParser.py` for main logic and workflow.
- When adding features, follow the pattern of reading from CSV, processing with Selenium, and writing results as shown.
- If implementing missing modules, ensure compatibility with the interfaces used in `GlassDataParser.py`.
- Use robust error handling and logging as demonstrated.

## References
- See `read_mva_list()` and `main()` in `GlassDataParser.py` for the core data flow.
- Input: `data/mva.csv` (plain list of MVA numbers).
- Output: `GlassResults.txt` (CSV format: MVA, VIN, Desc).

## Maintenance Notes
- Locator resilience: The Compass Mobile button label may change (e.g., "Compass Mobile (Leaving Soon...)"), so use an XPath contains match rather than exact text. See the locator in [pages/login_page.py](pages/login_page.py#L196).
- Local-only data: CSVs in [data/](data/) are environment-specific and can be marked `skip-worktree` to ignore local edits without removing them from version control.
- Ignored artifacts: Logs, caches (`__pycache__/`, `*.pyc`), driver binaries (e.g., [msedgedriver.exe](msedgedriver.exe)), and generated outputs like [GlassResults.txt](GlassResults.txt) should remain untracked as per `.gitignore`.
